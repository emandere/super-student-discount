
<div *ngIf="(testResults$ | async ) as resultInfo">
    <br/>
    <mat-card class="test-card">
        <mat-card-header>
        <mat-card-title>Combinatorial Test Results</mat-card-title>
        </mat-card-header>
        <mat-card-content id="discountamount" align="left">
        Tests Pass: {{resultInfo.hasAllTestRunsPass}}
        </mat-card-content>
    </mat-card>
    <br/>
    <div *ngFor="let testrun of resultInfo.testRuns">
        <br/>
        <mat-card class="test-card">
            
            <mat-card-content id="discountamount" align="left">
            Test Name: {{testrun.testName}}
            </mat-card-content>
        </mat-card>
        <br/>
        <table mat-table [dataSource]="testrun.failedTestCases" class="mat-elevation-z8">
            <ng-container matColumnDef="State">
                <th mat-header-cell *matHeaderCellDef> State </th>
                <td mat-cell *matCellDef="let result"> <div class ="tableinfo">{{result.state}}</div> </td>
            </ng-container>
            <ng-container matColumnDef="DriverAge">
                <th mat-header-cell *matHeaderCellDef> DriverAge </th>
                <td mat-cell *matCellDef="let result"> <div class ="tableinfo"> {{result.driverAge}}</div> </td>
            </ng-container>
            <ng-container matColumnDef="Relationship">
                <th mat-header-cell *matHeaderCellDef> Relationship </th>
                <td mat-cell *matCellDef="let result"> <div class ="tableinfo"> {{result.relationship}} </div></td>
            </ng-container>
            <ng-container matColumnDef="StudentStatus">
                <th mat-header-cell *matHeaderCellDef> StudentStatus </th>
                <td mat-cell *matCellDef="let result"> <div class ="tableinfo">{{result.studentStatus}}</div> </td>
            </ng-container>
            <ng-container matColumnDef="Violations">
                <th mat-header-cell *matHeaderCellDef> Violations </th>
                <td mat-cell *matCellDef="let result"> <div class ="tableinfo"> {{result.violations}} </div> </td>
            </ng-container>
            <ng-container matColumnDef="DriverGPA">
                <th mat-header-cell *matHeaderCellDef> DriverGPA </th>
                <td mat-cell *matCellDef="let result"> <div class ="tableinfo"> {{result.driverGPA}} </div></td>
            </ng-container>
            <ng-container matColumnDef="MaritalStatus">
                <th mat-header-cell *matHeaderCellDef> MaritalStatus </th>
                <td mat-cell *matCellDef="let result"> <div class ="tableinfo"> {{result.maritalStatus}} </div></td>
            </ng-container>
            <ng-container matColumnDef="Results">
                <th mat-header-cell *matHeaderCellDef> Results </th>
                <td mat-cell *matCellDef="let result"> <div class ="tableinfo"> {{result.resultMessage}} </div></td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
</div>
